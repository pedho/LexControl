<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>LexControl</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  </head>
  <body>
    <%- include("../partials/_navbar") %>
    <% if (success_msg && success_msg.length > 0) { %>
    <% success_msg.forEach(msg => { %>
        <div class="alert alert-success"><%= msg %></div>
    <% }) %>
    <% } %>

    <% if (error_msg && error_msg.length > 0) { %>
    <% error_msg.forEach(msg => { %>
        <div class="alert alert-danger"><%= msg %></div>
    <% }) %>
    <% } %>

        <div class="container mt-4">
            <div class="container mt-2" style="display: flex">
                <h3>Clientes</h3>
                <hr/>
                <a href="/advogado/clientes/add"><button class="btn btn-success">Novo Cliente</button></a>
                
            </div>

            <div class="card">
                <% clientes.forEach(cli => { %>

    <h5><%= cli.nome %> - <%= cli.email %></h5>
    <h5><%= cli.telefone %></h5>
    <h5><%= cli.endereco %></h5>
    <h5><%= cli.cpf_cpnj %></h5>

    <div style="display: flex; gap: 10px; margin-bottom: 20px;">
        <a href="/advogado/clientes/edit/<%= cli.cliente_id %>">
            <button class="btn btn-success">Editar</button>
        </a>

        <form action="/advogado/clientes/deletar" method="post">
            <input type="hidden" name="id" value="<%= cli.cliente_id %>">
            <button type="submit" class="btn btn-danger">Deletar</button>
        </form>
    </div>

  <% }) %>
            </div>
        
      


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  </body>
</html>